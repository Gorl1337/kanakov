#include <stdio.h>
#include <stdlib.h>
#include <math.h>
int main()
{
	double a = 0, b = 0, c = 0, p = 0, d1 = 0;
	int min = 0, max = 0, d = 0, n = 0, i = 0, j = 0;

	printf("Enter Min:");
	scanf_s("%d", &min);

	printf("Enter Max:");
	scanf_s("%d", &max);

	if (max < min)
	{
		printf("error");
		return 0;
	}

	printf("Enter size:");
	scanf_s("%d", &n);

	if (n < 1)
	{
		printf("error");
		return 0;
	}

	double* B = (double*)malloc(sizeof(double) * n);
	int* D = (int*)malloc(sizeof(int) * n);

	for (i = 0; i < n; i++)
	{
		a = rand();
		b = (a / RAND_MAX) * (max - min) + min;
		d1 = modf(b, &p);
		d = pow(10, 6) * modf(b, &p);
		d = abs(d);
		B[i] = b;
		D[i] = d;
	}

	for (i = 0; i < n; i++)
	{
		if (D[i] <= n)
		{
			c -= B[D[i]];
			B[D[i]] = 0;
		}
		else
		{
			c += B[i];
			B[i] = 0;
		}
	}

	for (i = 0; i < n; i++)
	{
		c += B[i];
	}

	printf("Sum=%lf", c);

	free(B);
	free(D);
	return 0;
}
